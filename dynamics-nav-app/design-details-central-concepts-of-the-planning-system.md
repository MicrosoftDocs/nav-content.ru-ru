---
title: "Сведения о проектировании — балансировка поставки и спроса"
description: "Основа системы планирования — балансировка спроса и предложения путем предложения пользователю пересмотреть заказы на поставку в случае дисбаланса. Это происходит для каждой комбинации варианта и склада."
documentationcenter: 
author: SorenGP
ms.prod: dynamics-nav-2017
ms.topic: article
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: 
ms.date: 07/01/2017
ms.author: sgroespe
ms.translationtype: HT
ms.sourcegitcommit: 4fefaef7380ac10836fcac404eea006f55d8556f
ms.openlocfilehash: 522dcf39ef4ed932a061bf70ddd70a4157e61d7e
ms.contentlocale: ru-ru
ms.lasthandoff: 10/16/2017

---
# <a name="design-details-balancing-supply-with-demand"></a>Сведения о проектировании: балансировка поставки и спроса
Основа системы планирования — балансировка спроса и предложения путем предложения пользователю пересмотреть заказы на поставку в случае дисбаланса. Это происходит для каждой комбинации варианта и склада.  
  
Представьте, что каждый профиль запасов содержит строку событий спроса (отсортированных по дате и приоритету) и соответствующую строку событий поставки. Каждое событие возвращается к типу источника и идентификации. Правила уравновешивания товаров достаточно просты. На любом этапе процесса может возникнуть четыре экземпляра соответствующего спроса и поставки:  
  
1.  Спрос и поставка не существуют для товара => планирование завершено (или не должно начинаться).  
2.  Спрос существует, но нет поставки => необходимо предложить поставку.  
3.  Поставка существует, но на нее нет спроса => поставка должна быть отменена.  
4.  Спрос и поставка существуют => следует задать вопросы и получить ответы до того, как система сможет обеспечить удовлетворение спроса и достаточное количество поставки.  
  
     Если время поставки неподходящее, возможно, поставку можно перепланировать следующим образом:  
  
    1.  Если поставка размещается раньше спроса, возможно, поставку можно перепланировать на более позднюю дату, чтобы запасы были как можно меньше.  
    2.  Если поставка размещается после спроса, возможно, поставку можно перепланировать на более раннюю дату. В противном случае система предложит новую поставку.  
    3.  Если поставка удовлетворяет спрос на определенную дату, система планирования может продолжить анализ того, может ли количество поставки удовлетворить спрос.  
  
     Если расчет времени выполнен, можно рассчитать необходимое количество для поставки следующим образом:  
  
    1.  Если количество поставки меньше спроса, возможно, количество поставки можно увеличить (или нет, если имеются ограничения в соответствии с политикой максимального количества).  
    2.  Если количество поставки больше спроса, возможно, количество поставки можно уменьшить (или нет, если имеются ограничения в соответствии с политикой минимального количества).  
  
     На данном этапе возникает одна из следующих двух ситуаций:  
  
    1.  Текущий спрос можно удовлетворить, в таком случае он закрывается и начинается планирование для следующего спроса.  
    2.  Поставка достигла максимума, некоторая часть спроса не покрыта. В этом случае система планирования может закрыть текущую поставку и перейти к следующей поставке.  
  
Процедура начинается снова со следующего спроса и текущей поставки, и наоборот. Текущее предложение может быть в состоянии покрыть и следующий спрос, либо текущий спрос не покрыт полностью.  
  
## <a name="rules-concerning-actions-for-supply-events"></a>Правила в отношении действий для событий поставки  
Если система планирования выполняет нисходящее вычисление, в котором предложение должно удовлетворить спрос, спрос берется как есть, то есть он не подконтролен системе планирования. Однако, можно осуществлять управление на стороне поставки. Следовательно, система планирования предложит создать новые заказы на поставку, перепланировать существующие и(или) изменить количество заказа. Если существующий заказ на поставку становится лишним, система планирования предложит пользователю отменить его.  
  
Если пользователь желает исключить существующий заказ на поставку из предложений по планированию, он может задать отсутствие гибкости планирования ("Гибкость планирования" = "Нет"). Затем излишки поставок по этому заказу будут использоваться для покрытия спроса, однако никакое действие предложено не будет.  
  
В целом, вся поставка имеет гибкость планирования, которая ограничена условиями каждого из предложенных действий.  
  
-   **Перепланировать на более позднюю дату**. Дату существующего заказа на поставку можно запланировать на более позднюю дату для соблюдения даты выполнения спроса за исключением следующих ситуаций:  
  
    -   Она представляет запасы (всегда на день ноль).  
    -   Она имеет связь "заказ-в-заказ" с другим спросом.  
    -   Она лежит вне окна перепланирования, определенного горизонтом планирования.  
    -   Можно использовать более близкую поставку.  
    -   С другой стороны, пользователь может решить не выполнять перепланирование по следующим причинам:  
    -   Заказ на поставку уже связан с другим спросом в предыдущую дату.  
    -   Требуемое планирование настолько незначительно, что пользователю оно кажется незначительным.  
  
-   **Перепланировать на более раннюю дату**. Дату существующего заказа на поставку можно запланировать на более раннюю дату за исключением следующих ситуаций:  
  
    -   Она связана непосредственно с некоторым другим спросом.  
    -   Она лежит вне окна перепланирования, определенного горизонтом планирования.  
  
> [!NOTE]  
>  При планировании товара с использованием точки повторного заказа всегда при необходимости можно спланировать заказ на поставку. Это обычно для заранее планируемых заказов на поставку, инициируемых точкой повторного заказа.  
  
-   **Увеличить количество**. Количества существующего заказа на поставку можно увеличить для удовлетворения спроса, если заказ на поставку не связан напрямую со спросом с помощью связи "заказ-в-заказ".  
  
> [!NOTE]  
>  Хотя заказ на поставку можно увеличить, он может быть ограничен определенным максимальным количеством заказа.  
  
-   **Уменьшение количества**. Существующий заказ на поставку с излишком по сравнению с существующим спросом можно уменьшить для удовлетворения спроса.  
  
> [!NOTE]  
>  Несмотря на то что количество можно уменьшить, все равно может наблюдаться некоторый излишек по сравнению со спросом из-за определенного минимального количества заказа или множителя заказа.  
  
-   **Отмена**. В качестве особого случая действия уменьшения количества заказ на поставку можно отменить, если его количество уменьшено до нуля.  
-   **Новый**. Если заказ на поставку еще не существует или существующий заказ на поставку невозможно изменить для покрытия необходимого количества на дату удовлетворения спроса, предлагается новый заказ на поставку.  
  
## <a name="determining-the-supply-quantity"></a>Определение количества поставки  
Параметры планирования, определенные пользователем, управляют предлагаемым количеством каждого заказа на поставку.  
  
Если система планирования вычисляет количество нового заказа на поставку или изменение количества существующего заказа, предложенное количество может отличаться от фактического спроса.  
  
Если выбран максимальный запас или фиксированное количество заказа, предлагаемое количество может быть увеличено для соответствия фиксированному количеству или максимальному запасу. Если политика дозаказа использует точку дозаказа, количество может быть увеличено по меньшей мере для соответствия точке дозаказа.  
  
Предложенное количество может быть изменено в этой последовательности.  
  
1.  Уменьшено до максимального количества заказа (при наличии).  
2.  До минимального количества заказа.  
3.  До ближайшего множителя заказа. (В случае ошибочных настроек это значение может превысить максимальное количество заказа.)  
  
## <a name="order-tracking-links-during-planning"></a>Связи трассировки заказов во время планирования  
Что касается трассировки заказов во время планирования, важно помнить, что система планирования изменяет порядок динамически создаваемых связей трассировки заказа для комбинаций товаров, вариантов и складов.  
  
Для этого существует две причины.  
  
-   Система планирования должна иметь возможность определить целесообразность предложений, убедиться, что весь спрос охвачен и что ни один из заказов на поставку не осуществляется с излишками.  
-   Динамически созданные связи трассировки заказа необходимо заново балансировать на регулярной основе.  
  
Со временем связи динамической трассировки заказа становятся несбалансированными, поскольку вся сеть трассировки заказов не перестраивается, пока события спроса или поставок не будут закрыты фактически.  
  
Перед балансировкой поставки по спросу программа удаляет все существующие связи трассировки заказа. Затем во время процедуры балансировки, когда событие спроса или предложения было закрыто, устанавливаются новые связи трассировки заказов между спросом и предложением.  
  
> [!NOTE]  
>  Даже если товар не настроен для динамической трассировки заказов, система планирования создаст сбалансированные связи трассировки заказа, как описано выше.  
  
## <a name="see-also"></a>См. также  
[Сведения о проектировании: балансировка спроса и поставки](design-details-balancing-demand-and-supply.md)   
[Сведения о проектировании: планирование поставок](design-details-supply-planning.md)
