---
title: "Пошаговое руководство — автоматическое планирование поставок"
description: "Фразами \"процесс планирования\" или \"процесс MRP\" обозначается вычисление основного плана производства (MPS) и плана потребности в материалах (MRP) на основе фактического и прогнозируемого требования."
documentationcenter: 
author: SorenGP
ms.prod: dynamics-nav-2017
ms.topic: article
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: 
ms.date: 09/07/2017
ms.author: sgroespe
ms.translationtype: HT
ms.sourcegitcommit: 4fefaef7380ac10836fcac404eea006f55d8556f
ms.openlocfilehash: da30089394f18fea4a28d5bef58d223d45599003
ms.contentlocale: ru-ru
ms.lasthandoff: 10/16/2017

---
# <a name="walkthrough-planning-supplies-automatically"></a>Пошаговое руководство. Автоматическое планирование поставок
Фразами "процесс планирования" или "процесс MRP" обозначается вычисление основного плана производства (MPS) и плана потребности в материалах (MRP) на основе фактического и прогнозируемого требования.  

-   MPS — это расчет основного плана производства на основании фактического требования и прогноза производства. Вычисление MPS используется для товаров со строкой прогноза или заказа на продажу. Эти товары называются "товары MPS" и определяются динамически после запуска расчета.  
-   MRP — это расчет потребности в материалах на основании фактического требования компонентов и прогноза производства на уровне компонентов. MRP рассчитывается только для товаров, не относящихся к товарам MPS. План MRP предназначен для составления формальных графиков по каждому товару, обеспечивающих своевременную поставку нужных товаров в нужное место и в нужном количестве.  

 Алгоритмы планирования, используемые как для MPS, так и для MRP, идентичны. В алгоритмах планирования используется взаимозачет, а также повторно используются существующие заказы на поставку и указания. Процесс системы планирования выявляет, что требуется или потребуется в будущем (требование), и каковы имеющиеся в наличии или ожидаемые ресурсы (предложение). При взаимозачете этих величин в производственном плане отображаются указания. Указания — это предложения относительно создания нового заказа на поставку, изменения заказа на поставку (количества или даты) или отмены существующего заказа на поставку. В качестве заказов на поставку могут выступать производственные заказы, заказы на покупку и заказы на перемещение. Дополнительные сведения см. в разделе [Сведения о проектировании: планирование поставок](design-details-supply-planning.md).  

 Результаты планирования вычисляются отчасти на основе наборов "требование-поставка" в базе данных, а отчасти путем настройки карточек единиц хранения или карточек товара, производственных спецификаций и маршрутов.  

## <a name="about-this-walkthrough"></a>Об этом пошаговом руководстве  
 В этом пошаговом руководстве демонстрируется использование системы планирования поставок для автоматического планирования всех заказов на покупку и производственных заказов, необходимых для производства 15 туристических велосипедов по различным заказам на продажу. Чтобы пошаговое руководство было понятным и реалистичным, количество строк планирования ограничивается путем фильтрации всех наборов «требование-поставка» в демонстрационной организации «CRONUS Россия ЗАО» за исключением требования продаж на складе «СИНИЙ».  

 В этом пошаговом руководстве рассматриваются следующие задачи:  

-   создание заказа на продажу и вычисление полного плана поставки;  
-   просмотр параметров планирования и операций трассировки заказов, лежащих в основе строк планирования;  
-   автоматическое создание предлагаемых заказов на поставку;  
-   создание нового требования продаж и соответствующее перепланирование.  

## <a name="roles"></a>Роли  

-   Планировщик производства  
-   Агент по закупкам  

## <a name="prerequisites"></a>Предварительные требования  
 Для выполнения данного пошагового руководства необходимо выполнить следующие действия.  

-   Открыть демонстрационную организацию «CRONUS Россия ЗАО».  
-   Чтобы изменить различные значения настройки товаров, выполнив шаги раздела "Подготовка образца данных", далее в этом пошаговом руководстве.  

## <a name="story"></a>Сюжет  
 Клиент, группа "Кэннон", заказывает пять туристических велосипедов, которые должны быть доставлены 05.02.2014 (5 февраля).  

 Эдуард, планировщик производства, планирует поставки на первую неделю февраля 2014 г. Он выполняет фильтрацию по собственному складу «СИНИЙ» и вводит интервал планирования с рабочей даты (32.01.2014) по 07.02.2014 перед вычислением первоначального плана поставки.  

 Единственным требованием на этой неделе является заказ на продажу группы «Кэннон». Эдуард видит, что ни в одной из строк планирования нет предупреждений, и переходит к созданию заказов на поставку без изменений по предлагаемым строкам планирования.  

 На следующий день Эдуарду перед началом выполнения и учета первоначальных заказов на поставку сообщили, что другой клиент заказал десять туристических велосипедов, которые должны быть поставлены 12.02.2014. Он выполнил пересчет, чтобы скорректировать план поставок в соответствии с изменением требования. В результате пересчета был получен план от оборота, в котором предложены изменения для времени и количества некоторых заказов на поставку, созданных в ходе первого процесса.  

 На различных этапах планирования Эдуард ищет соответствующие заказы, а также определяет с помощью функции «Трассировка заказов», какие требования выполняются при той или иной поставке.  

## <a name="preparing-sample-data"></a>Подготовка образца данных  
 Создайте единицы хранения (SKU) для туристического велосипеда и выбор его компонентов, товаров с номерами с 1001 по 1300. (Некоторые компоненты исключены для упрощения процедуры.) Скорректируйте параметры планирования выбранных компонентов, чтобы получить более прозрачные результаты планирования.  

### <a name="to-create-stockkeeping-units"></a>Создание единиц хранения  

1.  Откройте карточку товара для товара "1001, туристический велосипед".  
2.  Выберите действие **Создание единицы хранения**.  
3.  В окне **Создание единицы хранения** оставьте все параметры и фильтры неизменными и выберите кнопку **ОК**.  
4.  Повторите шаги с 1 по 3 для всех товаров в диапазоне номеров от 1100 до 1300.  

### <a name="to-change-selected-planning-parameters"></a>Изменение выбранных параметров планирования  

1.  Выберите значок ![Поиск страницы или отчета](media/ui-search/search_small.png "Значок поиска страницы или отчета"), войдите в **Единицы хранения**, затем выберите связанную ссылку.  
2.  Откройте ГОЛУБУЮ карточку единицы хранения для товара "1100, переднее колесо".  
3.  На экспресс-вкладке **Планирование** заполните поля, как описано в следующей таблице.  

    |Политика дозаказа|Кол-во страхового запаса|Период накопления лота|Период перепланирования|  
    |-------------------------------------------|-----------------------------------------------|-------------------------------------------------|---------------------------------------------|  
    |Партия на партию|Пустое значение|2W|2W|  

4.  Повторите шаги 2 и 3 для всех единиц хранения в диапазоне номеров от 1100 до 1300.  

 На этом подготовка образца данных для пошагового руководства заканчивается.  

## <a name="creating-a-regenerative-supply-plan"></a>Создание регенеративного плана поставок  
 В ответ на новый заказ на продажу пяти туристических велосипедов Роман начинает процесс планирования, задавая параметры, фильтры, интервалы планирования, чтобы исключить все требования, кроме требований для первой недели февраля на складе "СИНИЙ". Он начинает с вычисления основного плана производства (MPS), а затем переходит к вычислению полного плана поставок для плана потребности в материалах (MRP).  

### <a name="to-create-the-sales-order"></a>Создание заказа на продажу  

1.  Выберите значок ![Поиск страницы или отчета](media/ui-search/search_small.png "Значок поиска страницы или отчета"), введите **Заказы на продажу**, а затем выберите связанную ссылку.  
2.  Выберите действие **Создать**.  
3.  Заполните поля в окне **Заказ на продажу**, как описано в следующей таблице.  

    |Название клиента|Дата отгрузки|Код товара|Склад|Количество|  
    |----------------------------|-------------------|--------------|--------------|--------------|  
    |Группа "Кэннон"|05.02.2014|1001|СИНИЙ|5|  

4.  Примите предупреждение о доступности и нажмите кнопку **Да** для записи нового необходимого количества.  

### <a name="to-create-a-regenerative-plan-to-fulfill-demand-at-location-blue"></a>Создание регенеративного плана для заполнения требования на складе "СИНИЙ"  

1.  Выберите значок ![Поиск страницы или отчета](media/ui-search/search_small.png "Значок поиска страницы или отчета"), введите **Журнал планирования**, затем выберите связанную ссылку.  
2.  Выберите действие **Вычислить регенеративный план**.  
3.  В окне **Расчет плана - журнал планов** заполните поля, как описано в следующей таблице.  

    |Вычислить план|Дата начала|Дата окончания|Показать результаты:|Ограничить итоги до|  
    |--------------------|-------------------|-----------------|-------------------|---------------------|  
    |**MPS** = Да<br /><br /> **MRP** = Нет|23.01.2014<br /><br /> (рабочая дата)|07.02.2014|1001..1300|Фильтр по складу = СИНИЙ|  

4.  Нажмите кнопку **ОК**, чтобы начать процесс планирования.  

     Будет создана одна строка планирования, в которой предлагается учесть плановый производственный заказ для создания десяти туристических велосипедов, товар 1001, к 05.02.2014, дате поставки заказа на продажу.  

     Далее следует убедиться, что эта строка планирования связана с заказом на продажу группы "Кэннон", воспользовавшись для этого функцией **Трассировка заказов**. Данная функция динамически связывает требование с плановой поставкой.  

5.  Выберите новую строку планирования, затем выберите действие **Трассировка заказов**.  
6.  В окне **Трассировка заказов** выберите действие **Показать**.  

     Отобразится заказ на продажу пяти туристических велосипедов клиенту с номером 10000 с датой поставки 05.02.2014.  

7.  Закройте окна **Заказ на продажу** и **Трассировка заказов**.  

### <a name="to-calculate-mrp-to-include-underlying-component-needs"></a>Включение в MRP требований подчиненных компонентов  

1.  Выберите значок ![Поиск страницы или отчета](media/ui-search/search_small.png "Значок поиска страницы или отчета"), введите **Журнал планирования**, затем выберите связанную ссылку.  
2.  Выберите действие **Вычислить регенеративный план**.  
3.  В окне **Расчет плана - журнал планов** заполните поля, как описано в следующей таблице.  

    |Вычислить|Дата начала|Дата окончания|Показать результаты:|Ограничить итоги до:|  
    |---------------|-------------------|-----------------|-------------------|----------------------|  
    |**MPS** = Да<br /><br /> **MRP** = Да|23.01.2014|07.02.2014|1001..1300|Фильтр по складу = СИНИЙ|  

4.  Нажмите кнопку **ОК**, чтобы начать процесс планирования.  

     В результате будет создано в общей сложности 14 строк планирования, предлагающих заказы на поставку для всех требований, которые представляет заказ на продажу туристических велосипедов на складе "СИНИЙ".  

## <a name="analyzing-the-planning-result"></a>Анализ результатов планирования  
 Чтобы проанализировать предлагаемые значения количества, Эдуард детализирует выбранные строки планирования, чтобы просмотреть параметры планирования и операции трассировки заказа.  

 В окне **Журнал планирования** обратите внимание, что в столбце **Срок выполнения** предлагаемые заказы на поставку планируются в обратном порядке от срока выполнения заказа на продажу 05.02.2014. График времени начинается в верхней строке планирования с использованием производственного заказа на изготовление готовых туристических велосипедов. График времени заканчивается в нижней строке планирования заказом на покупку одного из товаров низшего уровня, 1255, втулки муфты, наличие которого необходимо на 01.30.2014. В строке планирования для товара 1251, ось заднего колеса, эта строка представляет заказ на покупку компонентов, которые должны поступить к дате начала его родительского произведенного товара, сборочного узла 1250, который, в свою очередь, должен поступить 3.02.2014. Просмотрев журнал, вы увидите, что все подчиненные компоненты запланированы на дату начала их родительских компонентов.  

 В строке планирования для товара 1300, цепь в сборе, предлагается десять штук. Это отличается от 5 штук, которые, согласно нашим ожиданиям, потребуются для выполнения заказа на продажу. Перейти к просмотру этих операций трассировки заказов.  

### <a name="to-view-order-tracking-entries-for-item-1300"></a>Просмотр операций трассировки заказов для товара 1300  

1.  Выберите строку планирования для товара 1300, затем выберите действие **Трассировка заказов**.  

     Эти две строки в окне **Трассировка заказов** показывают, что 5 штук трассируются от строки планирования (первая строка трассировки заказа) до заказа на продажу 1001 (вторая строка трассировки заказа). Последние пять штук, предложенные в строке планирования, не связаны ни с одной из строк документа; они связаны с параметром планирования, операцией прогноза или операцией общего заказа. Такие нетрассированные количества суммируются в поле **Нетрассированное количество** в заголовке окна **Трассировка заказов**.  

2.  Выберите поле **Нетрассированное количество**.  

     В окне **Нетрассируемые элементы планирования** будет указано, что для товара 1300 используется параметр планирования "Минимальное кол-во заказа" со значением, равным 10,00. Поэтому в сумме строка планирования используется для десяти штук, однако только пять из них можно трассировать до требования. Последние пять штук являются нетрассированным количеством, необходимым для удовлетворения требований, выдвигаемых к параметру планирования. Перейти к просмотру параметра планирования.  

### <a name="to-check-the-planning-parameter"></a>Проверка параметра планирования  

1.  В окне **Нетрассируемые элементы планирования** выберите строку трассировки заказа для товара 1300.  
2.  Выберите поле **Код товара**, затем выберите действие **Дополнительно**.  
3.  В окне **Список товаров** выберите действие **Единицы хранения**.  
4.  В окне **Единицы хранения - список** откройте карточку единицы хранения "СИНИЙ".  
5.  На экспресс-вкладке **Планирование** обратите внимание, что поле **Минимальное кол-во заказа** содержит значение 10.  
6.  Закройте все окна за исключением окна **Производственный план**.  

### <a name="to-view-more-order-tracking-entries"></a>Просмотр дополнительных операций трассировки заказов  

1.  Выберите строку планирования для товара 1110, "Обод", затем выберите действие **Трассировка заказов**.  

     В окне **Трассировка заказов** показано, что для каждого производственного заказа необходимы пять ободов для переднего и заднего колес соответственно.  

     Такая же трассировка заказов применяется к строкам планирования для товаров 1120, 1160 и 1170. Для товара 1120 поле **Кол-во в** производственной спецификации каждого колеса равно 50 шт, что дает полную потребность 100.  

     Строка планирования для товара 1150 на 6 штук выглядит аномально. Перейти к анализу.  

2.  Выберите строку планирования для товара 1150, затем выберите действие **Трассировка заказов**.  

     В окне **Трассировка заказов** показано, что пять единиц трассируются для переднего колеса и одна не трассируется. Перейти к просмотр нетрассированного количества.  

3.  Выберите поле **Нетрассированное количество**.  

     В окне **Нетрассируемые элементы планирования** отображается, что для товара 1150 используется параметр планирования, "Заказать несколько", равный 2,00, который указывает, что при заказе товара количество должно быть кратно 2. Ближайшее к 5 число, кратное 2, — это 6.  

     Такая же трассировка заказов применяется к строкам планирования для компонентов передней ступицы, товаров 1151 и 1155, за исключением того, что каждая потребность умножается на процент брака, заданный для товара 1150 в поле **Процент отходов** в карточке товара.  

 На этом анализ первоначального плана поставки завершен. Обратите внимание, что флажок **Принять указания** установлен во всех строках планирования, что свидетельствует о том, что они готовы к преобразованию в заказы на поставку.  

## <a name="carrying-out-action-messages"></a>Выполнение указаний  
 Далее Эдуард преобразует предлагаемые строки планирования в заказы на поставку, используя функцию **Выполнить указание**.  

### <a name="to-automatically-create-the-suggested-supply-orders"></a>Процедура автоматического создания предлагаемых заказов на поставку  

1.  Установите флажок **Принять указания** для всех строк планирования с предупреждением типа "Исключение".  
2.  Выберите действие **Выполнить указание**.  
3.  В окне **Выполнение указаний - план.** заполните поля, как описано в следующей таблице.  

    |Производственный заказ|Заказ на покупку|Заказ на перемещение|  
    |----------------------|--------------------|--------------------|  
    |Утвержденный|Создать заказы на покупку|Создать заказы на перемещение|  

4.  Нажмите кнопку **ОК** для автоматического создания всех предлагаемых заказов на поставку.  
5.  Закройте окно **Производственный план**.  

 На этом первоначальные расчеты, анализ и создание плана поставки для требования на складе "СИНИЙ" в первую неделю февраля заканчиваются. В следующем разделе другой клиент закажет десять туристических велосипедов и Эдуард должен будет кое-что перепланировать.  

## <a name="creating-a-net-change-plan"></a>Создание плана оборота  
 На следующий день еще до начала выполнения и учета каких-либо заказов на поставку поступил новый заказ на продажу от компании Libros S.A. на десять туристических велосипедов, которые должны быть поставлены к 12.02.2014. Эдуарду сообщили о новом требовании, и он приступил к перепланированию, чтобы скорректировать текущий план поставок. Эдуард использует функцию «Планирование от оборота», чтобы вычислить только изменения, внесенные в требование или поставку с момента последней операции планирования. Кроме того, он продлевает период планирования до 14.02.2014, чтобы включить новое требование продажи 12.02.2014.  

 Система планирования вычисляет оптимальный способ удовлетворения требования по этим двум идентичным продуктам, например путем консолидации одинаковых заказов на покупку и производственных заказов, перепланирования других заказов и создания новых заказов в случае такой необходимости.  

### <a name="to-create-the-new-sales-demand-and-replan-accordingly"></a>Создание нового требования продаж и соответствующее перепланирование  

1.  Выберите действие **Создать**.  
2.  Заполните поля в окне **Заказ на продажу**, как описано в следующей таблице.  

    |Название клиента|Дата отгрузки|Код товара|Склад|Количество|  
    |----------------------------|-------------------|--------------|--------------|--------------|  
    |Libros S.A.|12.02.2014|1001|СИНИЙ|10|  

3.  Примите предупреждение о доступности и нажмите кнопку **Да** для записи необходимого количества.  
4.  Перейдите к корректированию текущего плана поставки путем перепланирования.  
5.  Выберите значок ![Поиск страницы или отчета](media/ui-search/search_small.png "Значок поиска страницы или отчета"), введите **Журнал планирования**, затем выберите связанную ссылку.  
6.  Выберите действие **Вычислить план оборота**.  
7.  В окне **Расчет плана - журнал планов** заполните поля, как описано в следующей таблице.  

    |Вычислить план|Дата начала|Дата окончания|Показать результаты:|Ограничить итоги до|  
    |--------------------|-------------------|-----------------|-------------------|---------------------|  
    |**MPS** = Да<br /><br /> **MRP** = Да|23.01.2014|14.02.2014|1001..1300|Фильтр по складу = СИНИЙ|  

8.  Нажмите кнопку **ОК**, чтобы начать процесс планирования.  

 Всего будет создано 14 строк планирования. Обратите внимание, что в первой строке планирования в поле **Указание** отображается значение **Новое**, в поле **Кол-во** — значение 10, а в поле **Срок выполнения** — значение 12.02.14. Эта новая строка для верхнего родительского товара, 1001, туристический велосипед, создана потому, что для товара используется политика повтора заказа **Заказ**, которая предполагает, что поставку этого товара следует осуществлять со взаимно однозначным соотношением с требованием, заказом на продажу десяти штук.  

 Следующие две строки планирования — это производственные заказы на колеса для туристического велосипеда. Каждый существующий заказ из пяти, в поле **Исходное количество**, увеличивается до 15, в поле **Количество**. У обоих производственных заказов сроки оплаты не изменились, как указано в поле **Указание**, которое содержит значение **Изменить кол-во**. Это также имеет место для строки планирования товара 1300, за исключением того, что множитель его заказа 10,00 округляет трассируемый спрос на 15 штук до 20.  

 Все остальные строки планирования содержат указание **Переплан. и изм. кол-во**. Это означает, что помимо увеличения количества даты выполнения сдвигаются относительно плана поставки, чтобы включить дополнительное количество в доступное время производства (мощность). Покупные компоненты перепланированы и увеличены в объеме, чтобы удовлетворить производственные заказы. Перейти к анализу нового плана.  

## <a name="analyzing-the-changed-planning-result"></a>Анализ измененных результатов планирования  
 Поскольку все запланированные методом "партия на партию" товары в фильтре, с 1100 по 1300, имеют период перепланирования 2 недели, все их существующие заказы на поставку изменяются для соответствия новому требованию, которое попадает в пределы указанных двух недель.  

 Несколько строк планирования просто умножены на 3 для предоставления 15 туристических велосипедов вместо 5, а сроки выполнения перемещаются назад, чтобы обеспечить большее количество на дату поставки заказа на продажу для группы "Кэннон". Для этих строк планирования все количества могут быть отслежены. Значения в остальных строках планирования увеличиваются на 10 штук в дополнение к сдвигу их дат оплаты. Для этих строк планирования часть количества не отслеживаются из-за разных параметров планирования. Перейти к просмотру некоторых из этих операций трассировки заказов.  

### <a name="to-view-order-tracking-entries-for-item-1250"></a>Просмотр операций трассировки заказов для товара 1250  

1.  Выберите строку планирования для товара 1250, затем выберите действие **Трассировка заказов**.  

     Семь строк в окне **Трассировка заказов** показывают, что трассировка 5 и 10 штук выполняется через заднее колесо до туристических велосипедов в двух заказах на продажу, соответственно.  

     Последние пять штук не трассируются. Перейти к анализу.  

2.  Выберите поле **Нетрассированное количество**.  

     В окне **Нетрассируемые элементы планирования** будет указано, что для товара 1250 используется параметр планирования "Заказать несколько" со значением, равным 10,00. Поэтому строка планирования содержит 20 штук для округления фактической потребности до ближайшего числа, кратного 10. Последние пять штук являются нетрассированным количеством, необходимым для удовлетворения требований, выдвигаемых к параметру планирования.  

3.  Закройте все окна за исключением окна **Производственный план**.  

### <a name="to-view-an-existing-order"></a>Процедура просмотра существующего заказа  

1.  В строке планирования для товара 1250 выберите **Номер ссыл. заказа**. .  
2.  В окне **Утвержд. произ. заказ** для "Задняя ступица". Откроется существующий заказ на 10 штук, созданный во время первого процесса планирования.  
3.  Закройте утвержденный производственный заказ.  

 На этом данное пошаговое руководство, посвященное использованию системы планирования для автоматического определения требования, вычисления соответствующих заказов на поставку согласно требованию и параметрам планирования, а также автоматическому созданию заказов на поставку различных типов с соответствующими значениями дат и количества, завершается.  

## <a name="see-also"></a>См. также  
 [Пошаговые описания бизнес-процессов](walkthrough-business-process-walkthroughs.md)   
 [Пошаговое руководство. Планирование поставок вручную](walkthrough-planning-supplies-manually.md)   
 [Сведения о проектировании: планирование поставок](design-details-supply-planning.md)

