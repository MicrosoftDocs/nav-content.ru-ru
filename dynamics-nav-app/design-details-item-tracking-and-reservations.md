---
title: "Сведения о проектировании. Трассировка и резервирование товара"
description: "В этом разделе рассматриваются отслеживание и резервирование товара, а также описываются концепции, лежащие в основе этих операций."
documentationcenter: 
author: SorenGP
ms.prod: dynamics-nav-2018
ms.topic: article
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: 
ms.date: 07/01/2017
ms.author: sgroespe
ms.translationtype: HT
ms.sourcegitcommit: 4fefaef7380ac10836fcac404eea006f55d8556f
ms.openlocfilehash: b7d9d4763116bf5db5643af658d06ab4f3c264f3
ms.contentlocale: ru-ru
ms.lasthandoff: 10/16/2017

---
# <a name="design-details-item-tracking-and-reservations"></a>Сведения о проектировании: трассировка и резервирование товара
Одновременное использование резервирования и определенной трассировки товаров — явление редкое, поскольку в обоих случаях создается связь между поставкой и спросом. За исключением случаев, когда клиент или планировщик производства запрашивает определенную партию, редко имеет смысл резервировать товары в запасах, которым уже присвоены номера трассировки товара для определенного применения. Хотя можно резервировать товары для определенного типа трассировки товаров, требуется специальная функция для избежания конфликтов наличия между обработчиками заказов, запрашивающими те же товары, для которых требуется трассировка товара.  
  
Понятие позднего связывания обеспечивает свободное связывание общего резервирования серийного номера или номера партии до учета. Во время учета система резервирования может изменить последовательность выполнения общих резервирований для гарантии того, что фиксированное применение возможно по серийному номеру или номеру партии, который фактически подбирается. В то же время серийный номер или номер партии становится доступен для определенного резервирования в других документах, запрашивающих данный серийный номер или номер партии.  
  
Общее резервирование — это резервирование, при котором пользователю не важно, какой товар подбирается. Специальное резервирование — это резервирование, при котором пользователь учитывает товары при подборе.  
  
> [!NOTE]  
>  Функция поздней привязки связана только с товарами, настроенными со специальной трассировкой товаров, и применима только к резервированиям со склада, а не из входящих заказов на поставку.  
  
Резервирование номеров трассировки товара делится на две категории, как показано в следующей таблице.  
  
|Резервирование|Описанием|  
|-----------------|---------------------------------------|  
|Определенный|При резервировании товара из требования, например заказа на продажу, указывается конкретный серийный номер или номер партии.<br /><br /> Это и есть обычное резервирование. Наличие серийных номеров или номеров партий образует прочную связь между поставкой и спросом. **Примечание.** В спросе указывается серийный номер или номер партии. <br /><br /> Например, необходимо зарезервировать банку синей краски из партии А, поскольку это запрашивает клиент. Банка синей краски из партии А отгружается клиенту.|  
|Общее|При резервировании товара из требования, например заказа на продажу, не указывается конкретный серийный номер или номер партии.<br /><br /> Это состояние, в которое приводится операция резервирования серийных номеров или номеров партий, которые специально не выбраны. **Примечание.** В спросе не указывается серийный номер или номер партии. <br /><br /> Например, необходимо зарезервировать банку синей краски из любой партии для заказа на продажу. Банка синей краски со случайным серийным номером или номером партии отгружается клиенту.|  
  
Основное различие между конкретным и неконкретным резервированием определяется существованием серийных номеров или номеров партии на стороне спроса, как показано в следующей таблице.  
  
||||  
|-|-|-|  
||**Поставка**|**Спрос**|  
|**Определенный**|Серийный номера или номер партии.|Серийный номера или номер партии.|  
|**Общее**|Серийный номера или номер партии.|Нет серийного номера/номера партии.|  
  
При резервировании складских количеств из строки исходящего документа для товара с назначенными номерами трассировки товаров и настроенной конкретной трассировкой товаров окно **Резервирование** позволяет выполнять разные рабочие процессы в зависимости от потребности в серийных номерах или номерах партий.  
  
## <a name="specific-reservation"></a>Специальное резервирование  
При выборе **Резервировать** из строки исходящего документа отображается диалоговое окно с вопросом, требуется ли зарезервировать конкретные серийные номера или номера партий. Если выбрать значение **Да**, отобразится список со всеми серийными номерами или номерам партий, которые назначены строке документа. Окно **Резервирование** откроется после выбора одного из серийных номеров или номеров партий, и в нем можно выполнить резервирование с использованием выбранных серийных номеров или номеров партий обычным способом.  
  
Если некоторые из определенных номеров трассировки товара, которые пользователь пытается зарезервировать, используются в общих резервированиях, то сообщение в нижней части окна **Резервирование** сообщает, какой объем от общего зарезервированного количества используется в общих резервированиях и доступны ли они в данный момент.  
  
## <a name="nonspecific-reservation"></a>Общее резервирование  
Если выбрать значение **Нет** в открывшемся диалоговом окне, откроется окно **Резервирование**, в котором можно выполнить резервирование с использованием всех серийных номеров или номеров партий в запасах.  
  
Из-за структуры системы резервирования при размещении общего резервирования товара, для которого требуется трассировка товара, система должна выбрать определенные операции книги товаров, в соответствии с которыми будет выполнено резервирование. Поскольку операции книги товаров включают номера трассировки товара, при резервировании косвенно резервируются определенные серийные номера или номера партий, даже если это не было запланировано. Для решения этой ситуации система резервирования пытается перед учетом переконструировать записи неконкретного резервирования.  
  
Система резервирует для конкретных операций. но затем использует механизм перераспределения всякий раз, когда в неконкретном резервировании имеется конкретный спрос на серийный номер или номер партии. Это происходит при учете транзакции спроса, например заказа на продажу, журнала потребления или заказа на перемещение для серийного номера или номера партии или при попытке конкретного резервирования серийного номера или номера партии. Система перепланирует резервирования, чтобы сделать номер партии или серийный номер доступным спросу или конкретному резервированию, тем самым помещая другой номер партии или серийный номер в неконкретное резервирование. Если количество в запасах недостаточное, система меняет последовательность выполнения заказов насколько возможно и пользователь получает ошибку наличия, если количество в момент учета все еще недостаточное.  
  
> [!NOTE]  
>  При общем резервировании поле номера партии или серийного номера остается пустым в операции резервирования, указывающей на спрос, такой как продажа.  
  
## <a name="reshuffle"></a>Изменение последовательности выполнения  
Если пользователь учитывает исходящий документ после комплектования с неверным серийным номером или номером партии, другие неконкретные резервирования меняются, чтобы отразить фактический комплектуемый серийный номер или номер партии. Это гарантирует механизму учета фиксированное применение между спросом и предложением.  
  
Для всех поддерживаемых бизнес-сценариев изменение последовательности выполнения заказов возможно только при положительных операциях книги товаров, включающих резервирование и серийные номера либо номера партий, но без определенных серийных номеров или номеров партий на стороне спроса.  
  
## <a name="supported-business-scenarios"></a>Поддерживаемые бизнес-сценарии  
Функция поздней привязки поддерживает следующие бизнес-сценарии.  
  
* Вход определенного серийного номера или номера партии в исходящем документе с общим резервированием неправильного серийного номера или номера партии.  
* Резервирование определенного серийного номера или номера партии.  
* Учет исходящего документа с общим резервированием серийного номера или номера партии.  
  
### <a name="entering-serial-or-lot-numbers-on-an-outbound-document-with-wrong-nonspecific-reservation"></a>Ввод серийного номера или номера партии в исходящем документе с неправильным общим резервированием  
Это наиболее распространенный из трех поддерживаемых сценариев. В этом случае функция позднего связывания гарантирует, что пользователь сможет ввести фактически подобранный серийный номер или номер партии в исходящий документ, который уже включает общее резервирование другого серийного номера или номера партии.  
  
Например, потребность возникает, когда обработчик сначала выполнил общее резервирование из любого серийного номера или номера партии. Позже, когда товар фактически подобран из запасов, в заказ необходимо ввести серийный номер или номер партии до выполнения учета. Неконкретное резервирование реорганизуется во время учета, чтобы гарантировать, что подобранный серийный номер или номер партии можно ввести без потери резервирования и что подобранный серийный номер или номер партии можно полностью применить или учесть.  
  
### <a name="reserve-specific-serial-or-lot-numbers"></a>Резервирование определенного серийного номера или номера партии  
В этом бизнес-сценарии функция позднего связывания гарантирует, что пользователь, который пытается зарезервировать определенный серийный номер или номер партии, которые в настоящее время включены в общее резервирование, сможет это сделать. Последовательность выполнения заказов при общем резервировании меняется для освобождения серийного номера или номера партии для определенного запроса.  
  
Перегруппировка осуществляется автоматически, встроенная справка отображается внизу окна **Резервирование** и содержит следующий текст.  
  
**XX из общего зарезервированного количества являются неспецифичными и могут быть доступны.**  
  
Кроме того, в поле **Зарезервир. количество** отображается количество операций общего резервирования. По умолчанию это поле не отображается для пользователей.  
  
### <a name="posting-an-outbound-document-with-nonspecific-reservation-of-serial-or-lot-numbers"></a>Учет исходящего документа с общим резервированием серийного номера или номера партии  
Этот бизнес-сценарий поддерживается функцией поздней привязки, обеспечивающей фиксированное применение и исходящий учет фактически подобранных товаров путем перегруппировки другого неконкретного резервирования серийного номера или номера партии. Если изменение последовательности выполнения невозможно, отображается следующее стандартное сообщение об ошибке, когда пользователь выполняет попытку учесть отгрузку:  
  
**Товар XX невозможно применить полностью.**  
  
## <a name="see-also"></a>См. также  
[Сведения о проектировании: трассировка товара](design-details-item-tracking.md)
